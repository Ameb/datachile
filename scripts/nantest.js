const fetch = require("node-fetch");

const urls = [
  "http://en.datachile.test:3300/countries/Africa-2/Senegal-101",
  "http://en.datachile.test:3300/countries/Africa-2/Gambia-102",
  "http://en.datachile.test:3300/countries/Africa-2/Guinea-Bissau-103",
  "http://en.datachile.test:3300/countries/Africa-2/Guinea-104",
  "http://en.datachile.test:3300/countries/Africa-2/Sierra Leone-105",
  "http://en.datachile.test:3300/countries/Africa-2/Liberia-106",
  "http://en.datachile.test:3300/countries/Africa-2/CÃ´te d'Ivoire-107",
  "http://en.datachile.test:3300/countries/Africa-2/Ghana-108",
  "http://en.datachile.test:3300/countries/Africa-2/Togo-109",
  "http://en.datachile.test:3300/countries/Africa-2/Nigeria-111",
  "http://en.datachile.test:3300/countries/Africa-2/South Africa-112",
  "http://en.datachile.test:3300/countries/Africa-2/Botswana-113",
  "http://en.datachile.test:3300/countries/Africa-2/Lesotho-114",
  "http://en.datachile.test:3300/countries/Africa-2/Zimbabwe-116",
  "http://en.datachile.test:3300/countries/Africa-2/Zambia-117",
  "http://en.datachile.test:3300/countries/Africa-2/Comoros-118",
  "http://en.datachile.test:3300/countries/Africa-2/Mauritius-119",
  "http://en.datachile.test:3300/countries/Africa-2/Madagascar-120",
  "http://en.datachile.test:3300/countries/Africa-2/Mozambique-121",
  "http://en.datachile.test:3300/countries/Africa-2/Swaziland-122",
  "http://en.datachile.test:3300/countries/Africa-2/Egypt-124",
  "http://en.datachile.test:3300/countries/Africa-2/Libya-125",
  "http://en.datachile.test:3300/countries/Africa-2/Tunisia-126",
  "http://en.datachile.test:3300/countries/Africa-2/Algeria-127",
  "http://en.datachile.test:3300/countries/Africa-2/Morocco-128",
  "http://en.datachile.test:3300/countries/Africa-2/Cabo Verde-129",
  "http://en.datachile.test:3300/countries/Africa-2/Niger-131",
  "http://en.datachile.test:3300/countries/Africa-2/Mali-133",
  "http://en.datachile.test:3300/countries/Africa-2/Mauritania-134",
  "http://en.datachile.test:3300/countries/Africa-2/Tanzania, United Republic of-135",
  "http://en.datachile.test:3300/countries/Africa-2/Uganda-136",
  "http://en.datachile.test:3300/countries/Africa-2/Kenya-137",
  "http://en.datachile.test:3300/countries/Africa-2/Somalia-138",
  "http://en.datachile.test:3300/countries/Africa-2/Ethiopia-139",
  "http://en.datachile.test:3300/countries/Africa-2/Angola-140",
  "http://en.datachile.test:3300/countries/Africa-2/Burundi-141",
  "http://en.datachile.test:3300/countries/Africa-2/Rwanda-142",
  "http://en.datachile.test:3300/countries/Africa-2/Congo-144",
  "http://en.datachile.test:3300/countries/Africa-2/Gabon-145",
  "http://en.datachile.test:3300/countries/Africa-2/Sao Tome and Principe-146",
  "http://en.datachile.test:3300/countries/Africa-2/Equatorial Guinea-147",
  "http://en.datachile.test:3300/countries/Africa-2/Central African Republic-148",
  "http://en.datachile.test:3300/countries/Africa-2/Cameroon-149",
  "http://en.datachile.test:3300/countries/Africa-2/Benin-150",
  "http://en.datachile.test:3300/countries/Africa-2/Namibia-159",
  "http://en.datachile.test:3300/countries/Africa-2/Burkina Faso-161",
  "http://en.datachile.test:3300/countries/Africa-2/Eritrea-163",
  "http://en.datachile.test:3300/countries/Oceania-9/Fiji-401",
  "http://en.datachile.test:3300/countries/Oceania-9/Tonga-403",
  "http://en.datachile.test:3300/countries/Oceania-9/Samoa-404",
  "http://en.datachile.test:3300/countries/Oceania-9/New Zealand-405",
  "http://en.datachile.test:3300/countries/Oceania-9/Australia-406",
  "http://en.datachile.test:3300/countries/Oceania-9/Kiribati-416",
  "http://en.datachile.test:3300/countries/Oceania-9/Solomon Islands-418",
  "http://en.datachile.test:3300/countries/Americas-19/Venezuela-201",
  "http://en.datachile.test:3300/countries/Americas-19/Colombia-202",
  "http://en.datachile.test:3300/countries/Americas-19/Trinidad and Tobago-203",
  "http://en.datachile.test:3300/countries/Americas-19/Jamaica-205",
  "http://en.datachile.test:3300/countries/Americas-19/Dominican Republic-206",
  "http://en.datachile.test:3300/countries/Americas-19/Bahamas-207",
  "http://en.datachile.test:3300/countries/Americas-19/Haiti-208",
  "http://en.datachile.test:3300/countries/Americas-19/Cuba-209",
  "http://en.datachile.test:3300/countries/Americas-19/Panama-210",
  "http://en.datachile.test:3300/countries/Americas-19/Costa Rica-211",
  "http://en.datachile.test:3300/countries/Americas-19/Nicaragua-212",
  "http://en.datachile.test:3300/countries/Americas-19/El Salvador-213",
  "http://en.datachile.test:3300/countries/Americas-19/Honduras-214",
  "http://en.datachile.test:3300/countries/Americas-19/Guatemala-215",
  "http://en.datachile.test:3300/countries/Americas-19/Mexico-216",
  "http://en.datachile.test:3300/countries/Americas-19/Guyana-217",
  "http://en.datachile.test:3300/countries/Americas-19/Ecuador-218",
  "http://en.datachile.test:3300/countries/Americas-19/Peru-219",
  "http://en.datachile.test:3300/countries/Americas-19/Brazil-220",
  "http://en.datachile.test:3300/countries/Americas-19/Bolivia-221",
  "http://en.datachile.test:3300/countries/Americas-19/Paraguay-222",
  "http://en.datachile.test:3300/countries/Americas-19/Uruguay-223",
  "http://en.datachile.test:3300/countries/Americas-19/Argentina-224",
  "http://en.datachile.test:3300/countries/Americas-19/United States of America-225",
  "http://en.datachile.test:3300/countries/Americas-19/Canada-226",
  "http://en.datachile.test:3300/countries/Americas-19/Dominica-231",
  "http://en.datachile.test:3300/countries/Americas-19/Grenada-232",
  "http://en.datachile.test:3300/countries/Americas-19/Saint Lucia-233",
  "http://en.datachile.test:3300/countries/Americas-19/Saint Vincent and the Grenadines-234",
  "http://en.datachile.test:3300/countries/Americas-19/Suriname-235",
  "http://en.datachile.test:3300/countries/Americas-19/Belize-236",
  "http://en.datachile.test:3300/countries/Americas-19/Antigua and Barbuda-240",
  "http://en.datachile.test:3300/countries/Americas-19/Saint Kitts and Nevis-241",
  "http://en.datachile.test:3300/countries/Americas-19/Bermuda-244",
  "http://en.datachile.test:3300/countries/Americas-19/Turks and Caicos Islands-248",
  "http://en.datachile.test:3300/countries/Americas-19/Puerto Rico-251",
  "http://en.datachile.test:3300/countries/Asia-142/Jordan-301",
  "http://en.datachile.test:3300/countries/Asia-142/Saudi Arabia-302",
  "http://en.datachile.test:3300/countries/Asia-142/Kuwait-303",
  "http://en.datachile.test:3300/countries/Asia-142/Oman-304",
  "http://en.datachile.test:3300/countries/Asia-142/Cyprus-305",
  "http://en.datachile.test:3300/countries/Asia-142/Israel-306",
  "http://en.datachile.test:3300/countries/Asia-142/Iraq-307",
  "http://en.datachile.test:3300/countries/Asia-142/Afghanistan-308",
  "http://en.datachile.test:3300/countries/Asia-142/Iran-309",
  "http://en.datachile.test:3300/countries/Asia-142/Syrian Arab Republic-310",
  "http://en.datachile.test:3300/countries/Asia-142/Lebanon-311",
  "http://en.datachile.test:3300/countries/Asia-142/Sri Lanka-314",
  "http://en.datachile.test:3300/countries/Asia-142/Cambodia-315",
  "http://en.datachile.test:3300/countries/Asia-142/Lao People's Democratic Republic-316",
  "http://en.datachile.test:3300/countries/Asia-142/India-317",
  "http://en.datachile.test:3300/countries/Asia-142/Bhutan-318",
  "http://en.datachile.test:3300/countries/Asia-142/Thailand-319",
  "http://en.datachile.test:3300/countries/Asia-142/Nepal-320",
  "http://en.datachile.test:3300/countries/Asia-142/Bangladesh-321",
  "http://en.datachile.test:3300/countries/Asia-142/Pakistan-324",
  "http://en.datachile.test:3300/countries/Asia-142/Viet Nam-325",
  "http://en.datachile.test:3300/countries/Asia-142/Myanmar-326",
  "http://en.datachile.test:3300/countries/Asia-142/Indonesia-328",
  "http://en.datachile.test:3300/countries/Asia-142/Malaysia-329",
  "http://en.datachile.test:3300/countries/Asia-142/Taiwan, Province of China-330",
  "http://en.datachile.test:3300/countries/Asia-142/Japan-331",
  "http://en.datachile.test:3300/countries/Asia-142/Singapore-332",
  "http://en.datachile.test:3300/countries/Asia-142/South Korea-333",
  "http://en.datachile.test:3300/countries/Asia-142/North Korea-334",
  "http://en.datachile.test:3300/countries/Asia-142/Philippines-335",
  "http://en.datachile.test:3300/countries/Asia-142/China-336",
  "http://en.datachile.test:3300/countries/Asia-142/Mongolia-337",
  "http://en.datachile.test:3300/countries/Asia-142/Hong Kong-342",
  "http://en.datachile.test:3300/countries/Asia-142/Macao-345",
  "http://en.datachile.test:3300/countries/Asia-142/Yemen-346",
  "http://en.datachile.test:3300/countries/Asia-142/Turkey-522",
  "http://en.datachile.test:3300/countries/Asia-142/Armenia-540",
  "http://en.datachile.test:3300/countries/Asia-142/Azerbaijan-541",
  "http://en.datachile.test:3300/countries/Asia-142/Georgia-550",
  "http://en.datachile.test:3300/countries/Asia-142/Kazakhstan-551",
  "http://en.datachile.test:3300/countries/Asia-142/Kyrgyzstan-552",
  "http://en.datachile.test:3300/countries/Asia-142/Uzbekistan-560",
  "http://en.datachile.test:3300/countries/Europe-150/Portugal-501",
  "http://en.datachile.test:3300/countries/Europe-150/Italy-504",
  "http://en.datachile.test:3300/countries/Europe-150/France-505",
  "http://en.datachile.test:3300/countries/Europe-150/Ireland-506",
  "http://en.datachile.test:3300/countries/Europe-150/Denmark-507",
  "http://en.datachile.test:3300/countries/Europe-150/Switzerland-508",
  "http://en.datachile.test:3300/countries/Europe-150/Austria-509",
  "http://en.datachile.test:3300/countries/Europe-150/United Kingdom of Great Britain and Northern Ireland-510",
  "http://en.datachile.test:3300/countries/Europe-150/Sweden-511",
  "http://en.datachile.test:3300/countries/Europe-150/Finland-512",
  "http://en.datachile.test:3300/countries/Europe-150/Norway-513",
  "http://en.datachile.test:3300/countries/Europe-150/Belgium-514",
  "http://en.datachile.test:3300/countries/Europe-150/Netherlands-515",
  "http://en.datachile.test:3300/countries/Europe-150/Iceland-516",
  "http://en.datachile.test:3300/countries/Europe-150/Spain-517",
  "http://en.datachile.test:3300/countries/Europe-150/Albania-518",
  "http://en.datachile.test:3300/countries/Europe-150/Romania-519",
  "http://en.datachile.test:3300/countries/Europe-150/Greece-520",
  "http://en.datachile.test:3300/countries/Europe-150/Malta-523",
  "http://en.datachile.test:3300/countries/Europe-150/Andorra-525",
  "http://en.datachile.test:3300/countries/Europe-150/Moldova-526",
  "http://en.datachile.test:3300/countries/Europe-150/Bulgaria-527",
  "http://en.datachile.test:3300/countries/Europe-150/Poland-528",
  "http://en.datachile.test:3300/countries/Europe-150/Hungary-530",
  "http://en.datachile.test:3300/countries/Europe-150/Luxembourg-532",
  "http://en.datachile.test:3300/countries/Europe-150/Liechtenstein-534",
  "http://en.datachile.test:3300/countries/Europe-150/San Marino-536",
  "http://en.datachile.test:3300/countries/Europe-150/Belarus-542",
  "http://en.datachile.test:3300/countries/Europe-150/Bosnia and Herzegovina-543",
  "http://en.datachile.test:3300/countries/Europe-150/Czech Republic-544",
  "http://en.datachile.test:3300/countries/Europe-150/Slovakia-545",
  "http://en.datachile.test:3300/countries/Europe-150/Serbia-546",
  "http://en.datachile.test:3300/countries/Europe-150/Croatia-547",
  "http://en.datachile.test:3300/countries/Europe-150/Slovenia-548",
  "http://en.datachile.test:3300/countries/Europe-150/Estonia-549",
  "http://en.datachile.test:3300/countries/Europe-150/Latvia-553",
  "http://en.datachile.test:3300/countries/Europe-150/Lithuania-554",
  "http://en.datachile.test:3300/countries/Europe-150/Macedonia-555",
  "http://en.datachile.test:3300/countries/Europe-150/Moldova-556",
  "http://en.datachile.test:3300/countries/Europe-150/Ukraine-559",
  "http://en.datachile.test:3300/countries/Europe-150/Russian Federation-562",
  "http://en.datachile.test:3300/countries/Europe-150/Germany-563",
  "http://en.datachile.test:3300/countries/Other-999/Antillas Neerlandesas-247",
  "http://en.datachile.test:3300/countries/Other-999/Republica Federal de Yugoslavia (Serbia y Montenegro)-564",
  "http://en.datachile.test:3300/countries/Other-999/Chile-997"
];

urls.reduce(
  (promises, url, i) => {
    promises[i % 4] = promises[i % 4].then(() => {
      return fetch(url, { method: "GET" })
        .then(res => res.text())
        .then(txt => {
          if (txt.match(/NaN/)) console.log(url);
        });
    });
    return promises;
  },
  [
    Promise.resolve(true),
    Promise.resolve(true),
    Promise.resolve(true),
    Promise.resolve(true)
  ]
);
